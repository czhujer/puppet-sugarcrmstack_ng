language: ruby

rvm:
 - 1.8.7
 - 1.9.3
 - 2.0

env:
#  - PUPPET_GEM_VERSION="~> 2.7.0"
#  - PUPPET_GEM_VERSION="~> 3.2.0"
#  - PUPPET_GEM_VERSION="~> 3.3.0"
  - PUPPET_GEM_VERSION="~> 3.4.0"
  - PUPPET_GEM_VERSION="~> 3.5.0" STRICT_VARIABLES=yes
  - PUPPET_GEM_VERSION="~> 3.6.0" STRICT_VARIABLES=yes
  - PUPPET_GEM_VERSION="~> 3.7.0" STRICT_VARIABLES=yes
  - PUPPET_GEM_VERSION="~> 3.8.0" STRICT_VARIABLES=yes FUTURE_PARSER=yes

matrix:
  exclude:
  # Ruby 1.9.3
  - rvm: 1.9.3
    env: PUPPET_GEM_VERSION="~> 2.7.0"
  # Ruby 2.0.0
  - rvm: 2.0.0
    env: PUPPET_GEM_VERSION="~> 2.7.0"
  # Ruby 2.1.0
  - rvm: 2.1.0
    env: PUPPET_GEM_VERSION="~> 2.7.0"
  - rvm: 2.1.0
    env: PUPPET_GEM_VERSION="~> 3.2.0"
  - rvm: 2.1.0
    env: PUPPET_GEM_VERSION="~> 3.3.0"
  - rvm: 2.1.0
    env: PUPPET_GEM_VERSION="~> 3.4.0"
  # Ruby 2.3.2
  - rvm: 2.3.2
    env: PUPPET_GEM_VERSION="~> 2.7.0"
  - rvm: 2.3.2
    env: PUPPET_GEM_VERSION="~> 3.2.0"
  - rvm: 2.3.2
    env: PUPPET_GEM_VERSION="~> 3.3.0"
  - rvm: 2.3.2
    env: PUPPET_GEM_VERSION="~> 3.4.0"
  - rvm: 2.3.2
    env: PUPPET_GEM_VERSION="~> 3.5.0" STRICT_VARIABLES=yes
  - rvm: 2.3.2
    env: PUPPET_GEM_VERSION="~> 3.6.0" STRICT_VARIABLES=yes
  - rvm: 2.3.2
    env: PUPPET_GEM_VERSION="~> 3.7.0" STRICT_VARIABLES=yes

build:
  pre_ci_boot:
    image_name: centos
    image_tag: centos6.8
    pull: true
#    options: "-e HOME=/root"                #optional
#  ci:
#    - gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3
#    - curl -sSL https://get.rvm.io | bash -s stable
#    - mkdir -p shippable/testresults
#    - mkdir -p shippable/codecoverage
